# La configuration github actions suivante est suffisante pour déclencher les tests à chaque push ou demande de fusion

name: CI

on: [ push, pull_request ]

env:
    CAC_DATA='https://fr.investing.com/indices/france-40-historical-data'
    LVC_DATA='https://www.investing.com/etfs/lyxor-leverage-cac-40-historical-data'

jobs:
    test:
        runs-on: ubuntu-latest

        steps:
            - uses: actions/checkout@v3
            - run: echo "The ${{ github.repository }} repository has been cloned to the runner."
            - uses: php-actions/composer@v6
            - run: echo "Composer dependencies have been installed"
              # spécifie le fichier de configuration phpunit.xml à utiliser avec l'option -c (--configuration)
            - run: vendor/bin/phpunit -c phpunit.xml.dist